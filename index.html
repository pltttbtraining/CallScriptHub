<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Call Script Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Prompt&family=Sarabun&display=swap" rel="stylesheet">
<style>
:root {
  --primary-color: #002d62;
  --secondary-color: #0074d9;
  --bg-color: #ffffff;
  --card-bg: #f0f8ff;
  --text-color: #002d62;
}
* {margin:0;padding:0;box-sizing:border-box;font-family:'Prompt','Sarabun',sans-serif;}
body {background: var(--primary-color); color: var(--text-color);}
button {cursor:pointer;}
.hidden {display:none;}
.container {padding:15px; max-width:480px; margin:auto;}
button.role-btn {width:100%; padding:20px; margin:10px 0; font-size:18px; border:none; border-radius:12px; background: var(--secondary-color); color:#fff; box-shadow:0 3px 6px rgba(0,0,0,0.2); transition:0.2s;}
button.role-btn:active {transform:scale(0.97);}
nav {position:fixed; bottom:0; left:0; width:100%; display:flex; background: var(--primary-color);}
nav button {flex:1; padding:10px 0; color:#fff; border:none; background:none; font-size:18px;}
nav button.active {background: var(--secondary-color);}
.tab-content {padding-bottom:60px;}
.card {background: var(--card-bg); margin:10px 0; padding:10px 15px; border-radius:10px; box-shadow:0 2px 4px rgba(0,0,0,0.1);}
.card h4 {margin-bottom:5px;}
.card pre {white-space:pre-wrap; word-wrap:break-word;}
input, select, textarea {width:100%; padding:10px; margin:5px 0 15px 0; border-radius:6px; border:1px solid #ccc;}
input[type="time"] {padding:5px;}
button.submit-btn {background: var(--secondary-color); color:#fff; border:none; padding:12px; width:100%; border-radius:8px; margin-top:10px;}
button.small-btn {padding:5px 10px; margin:3px;}
.toggle-btn {background:#0074d9;color:#fff;padding:5px 8px;border:none;border-radius:6px;margin:5px 0; font-size:14px;}
textarea {resize:none;}
</style>
</head>
<body>

<div class="container" id="login-screen">
  <h2 style="color:#fff; text-align:center; margin-bottom:20px;">Call Script Hub</h2>
  <button class="role-btn" onclick="roleLogin('user')">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</button>
  <button class="role-btn" onclick="roleLogin('trainer')">‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏£ / ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</button>
  <p style="color:#fff; font-size:12px; text-align:center;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Role ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
</div>

<div class="container hidden" id="main-app">
  <div class="tab-content" id="script-tab">
    <input type="text" id="search-script" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ script..." onkeyup="filterScript()">
    <div id="script-list"></div>
  </div>

  <div class="tab-content hidden" id="objection-tab">
    <input type="text" id="search-objection" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á..." onkeyup="filterObjection()">
    <div id="objection-list"></div>
  </div>

  <div class="tab-content hidden" id="qa-tab">
    <div id="qa-list"></div>
    <textarea id="qa-question" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
    <button class="submit-btn" onclick="postQuestion()">Post Question</button>
  </div>

  <nav>
    <button class="active" onclick="showTab('script')">üìò Script</button>
    <button onclick="showTab('objection')">‚ö° Objection</button>
    <button onclick="showTab('qa')">üí¨ Q&A</button>
  </nav>
</div>

<script>
// ===== Role Login =====
let role = '';
function roleLogin(selectedRole){
  let question = selectedRole==='user' ? 
    "‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡∏ß‡∏¥‡πÄ‡∏®‡∏©‡∏ö‡∏≠‡∏Å‡∏Ç‡πâ‡∏≤‡πÄ‡∏ó‡∏¥‡∏î Region ‡πÑ‡∏´‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏õ‡∏ê‡∏û‡∏µ" :
    "‡∏´‡πä‡∏∞ ‡∏≠‡∏∞‡πÑ‡∏£‡∏ô‡∏∞ ‡∏ß‡πà‡∏≤‡πÑ‡∏á‡∏ô‡∏∞ ‡∏´‡πä‡∏∞ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô";
  let answer = selectedRole==='user' ? "rh5" : "pru";
  let input = prompt(question);
  if(input && input.toLowerCase() === answer){
    role = selectedRole;
    document.getElementById('login-screen').classList.add('hidden');
    document.getElementById('main-app').classList.remove('hidden');
    loadScript();
    loadObjection();
    loadQA();
  } else {
    alert("‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
  }
}

// ===== Tabs =====
function showTab(tab){
  document.querySelectorAll('.tab-content').forEach(t=>t.classList.add('hidden'));
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  document.getElementById(tab+'-tab').classList.remove('hidden');
  event.currentTarget.classList.add('active');
}

// ===== Scripts 30 ‡∏ä‡∏∏‡∏î =====
let scripts = [
  // ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà 10 ‡∏ä‡∏∏‡∏î
  {type:'new', title:'Script 1', content:'‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏≤‡∏¢ -> ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏†‡∏≤‡∏©‡∏µ 15 ‡∏ô‡∏≤‡∏ó‡∏µ...'},
  {type:'new', title:'Script 2', content:'‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå + ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏°...'},
  {type:'new', title:'Script 3', content:'‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏Ç‡∏≤‡∏•‡∏á + ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢...'},
  {type:'new', title:'Script 4', content:'‡πÇ‡∏ó‡∏£‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô...'},
  {type:'new', title:'Script 5', content:'‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ü‡∏£‡∏µ 15 ‡∏ô‡∏≤‡∏ó‡∏µ...'},
  {type:'new', title:'Script 6', content:'‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏°‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå...'},
  {type:'new', title:'Script 7', content:'‡πÇ‡∏ó‡∏£‡∏°‡∏≤‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏†‡∏≤‡∏©‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•...'},
  {type:'new', title:'Script 8', content:'‡πÄ‡∏™‡∏ô‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå + ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢...'},
  {type:'new', title:'Script 9', content:'‡πÇ‡∏ó‡∏£‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡∏û‡∏£‡πâ‡∏≠‡∏° Value Hook...'},
  {type:'new', title:'Script 10', content:'Service-first call + CTA ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢...'},
  // ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢ 10 ‡∏ä‡∏∏‡∏î
  {type:'familiar', title:'Script 11', content:'‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏≤‡∏¢‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢ + ‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå...'},
  {type:'familiar', title:'Script 12', content:'‡πÇ‡∏ó‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏†‡∏≤‡∏©‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥ 15 ‡∏ô‡∏≤‡∏ó‡∏µ...'},
  {type:'familiar', title:'Script 13', content:'Value Hook + ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥...'},
  {type:'familiar', title:'Script 14', content:'‡πÇ‡∏ó‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ü‡∏£‡∏µ + ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ CTA...'},
  {type:'familiar', title:'Script 15', content:'‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå + ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥...'},
  {type:'familiar', title:'Script 16', content:'Service tone call + Value Hook...'},
  {type:'familiar', title:'Script 17', content:'‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• + CTA...'},
  {type:'familiar', title:'Script 18', content:'‡πÇ‡∏ó‡∏£‡πÄ‡∏ö‡∏≤‡πÜ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤...'},
  {type:'familiar', title:'Script 19', content:'‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏†‡∏≤‡∏©‡∏µ + ‡∏™‡πà‡∏á info ‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à...'},
  {type:'familiar', title:'Script 20', content:'Service-first + ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥...'},
  // ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ VIP 10 ‡∏ä‡∏∏‡∏î
  {type:'vip', title:'Script 21', content:'‡πÇ‡∏ó‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå VIP + Personal Value...'},
  {type:'vip', title:'Script 22', content:'Service-first + VIP call 15 ‡∏ô‡∏≤‡∏ó‡∏µ...'},
  {type:'vip', title:'Script 23', content:'‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• + CTA...'},
  {type:'vip', title:'Script 24', content:'‡πÇ‡∏ó‡∏£‡∏™‡∏±‡πâ‡∏ô‡πÜ VIP ‡∏û‡∏£‡πâ‡∏≠‡∏° Value Hook...'},
  {type:'vip', title:'Script 25', content:'Service tone VIP + ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢...'},
  {type:'vip', title:'Script 26', content:'‡πÇ‡∏ó‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå VIP + Personal Info...'},
  {type:'vip', title:'Script 27', content:'Value Hook VIP + CTA 15 ‡∏ô‡∏≤‡∏ó‡∏µ...'},
  {type:'vip', title:'Script 28', content:'‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå VIP + ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô...'},
  {type:'vip', title:'Script 29', content:'Service-first call VIP + ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢...'},
  {type:'vip', title:'Script 30', content:'VIP call + Personal Info + CTA...'}
];

// ===== Load Script =====
function loadScript(){
  const container = document.getElementById('script-list');
  container.innerHTML='';
  scripts.forEach((s,i)=>{
    let card = document.createElement('div');
    card.className='card';
    card.innerHTML=`<h4>${s.title} [${s.type}]</h4><pre>${s.content}</pre>`+
      (role==='trainer'? `<button class="small-btn" onclick="editScript(${i})">Edit</button> <button class="small-btn" onclick="deleteScript(${i})">Delete</button>` : '');
    container.appendChild(card);
  });
}

// ===== Objection Table =====
let objections = [
  {objection:'‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏Ñ‡πà‡∏∞/‡∏Ñ‡∏£‡∏±‡∏ö', reply:'‡πÅ‡∏Ñ‡πà‡πÇ‡∏ó‡∏£‡∏°‡∏≤‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ó‡∏µ‡πà‡∏ö‡∏≤‡∏á‡∏ó‡πà‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö ‡∏™‡πà‡∏á info ‡∏ó‡∏≤‡∏á‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?'},
  {objection:'‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡∏¢‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ', reply:'‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡πà‡∏∞ ‡πÅ‡∏Ñ‡πà 15 ‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢'},
  {objection:'‡∏°‡∏µ‡∏Ñ‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß', reply:'‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ã‡πâ‡∏≥‡∏≠‡∏µ‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏∞'},
  {objection:'‡∏à‡∏±‡∏î‡∏†‡∏≤‡∏©‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß', reply:'‡πÄ‡∏ä‡πá‡∏Å‡∏ü‡∏£‡∏µ‡πÜ ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ'},
  {objection:'‡∏Å‡∏•‡∏±‡∏ß‡∏ß‡πà‡∏≤‡∏ä‡∏ß‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á', reply:'‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ü‡∏£‡∏µ ‡πÑ‡∏°‡πà‡∏Ç‡∏≤‡∏¢‡∏ï‡∏£‡∏á‡∏Ñ‡πà‡∏∞'},
  {objection:'‡∏Ç‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô', reply:'‡∏™‡πà‡∏á‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏ô‡∏±‡∏î‡∏Ñ‡∏∏‡∏¢'},
  {objection:'‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏ß‡∏•‡∏≤', reply:'‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏Ñ‡πà 15 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏ï‡πà‡πÑ‡∏î‡πâ info ‡∏î‡∏µ‡πÜ'}
];

function loadObjection(){
  const container = document.getElementById('objection-list');
  container.innerHTML='';
  objections.forEach(o=>{
    let card = document.createElement('div');
    card.className='card';
    card.innerHTML=`<h4>${o.objection}</h4><pre>${o.reply}</pre>`;
    container.appendChild(card);
  });
}

function filterScript(){
  let keyword = document.getElementById('search-script').value.toLowerCase();
  const container = document.getElementById('script-list');
  container.innerHTML='';
  scripts.filter(s=>s.title.toLowerCase().includes(keyword) || s.content.toLowerCase().includes(keyword) || s.type.toLowerCase().includes(keyword))
    .forEach((s,i)=>{
      let card = document.createElement('div');
      card.className='card';
      card.innerHTML=`<h4>${s.title} [${s.type}]</h4><pre>${s.content}</pre>`+
        (role==='trainer'? `<button class="small-btn" onclick="editScript(${i})">Edit</button> <button class="small-btn" onclick="deleteScript(${i})">Delete</button>` : '');
      container.appendChild(card);
    });
}

function filterObjection(){
  let keyword = document.getElementById('search-objection').value.toLowerCase();
  const container = document.getElementById('objection-list');
  container.innerHTML='';
  objections.filter(o=>o.objection.toLowerCase().includes(keyword) || o.reply.toLowerCase().includes(keyword))
    .forEach(o=>{
      let card = document.createElement('div');
      card.className='card';
      card.innerHTML=`<h4>${o.objection}</h4><pre>${o.reply}</pre>`;
      container.appendChild(card);
    });
}

// ===== Q&A Board with localStorage =====
function loadQA(){
  const container = document.getElementById('qa-list');
  container.innerHTML='';
  let qaData = JSON.parse(localStorage.getItem('qaData') || '[]');
  qaData.forEach((q,i)=>{
    let card = document.createElement('div');
    card.className='card';
    card.innerHTML=`<h4>Q: ${q.question}</h4>`+
      `<pre>${q.answer || '-'}</pre>`+
      (role==='trainer'? `<button class="small-btn" onclick="answerQA(${i})">Reply</button>`:'');
    container.appendChild(card);
  });
}

function postQuestion(){
  let q = document.getElementById('qa-question').value.trim();
  if(!q) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°");
  let qaData = JSON.parse(localStorage.getItem('qaData') || '[]');
  qaData.push({question:q, answer:''});
  localStorage.setItem('qaData', JSON.stringify(qaData));
  document.getElementById('qa-question').value='';
  loadQA();
}

// ===== Trainer Functions =====
function editScript(i){
  let s = scripts[i];
  let newContent = prompt("‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ:", s.content);
  if(newContent!==null){ scripts[i].content = newContent; loadScript(); }
}
function deleteScript(i){
  if(confirm("‡∏•‡∏ö‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ô‡∏µ‡πâ?")) { scripts.splice(i,1); loadScript(); }
}
function answerQA(i){
  let qaData = JSON.parse(localStorage.getItem('qaData') || '[]');
  let ans = prompt("‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:", qaData[i].answer);
  if(ans!==null){ qaData[i].answer = ans; localStorage.setItem('qaData', JSON.stringify(qaData)); loadQA(); }
}
</script>
</body>
</html>
